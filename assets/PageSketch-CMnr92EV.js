import{j as e,b as t,I as n}from"./three-V9KlXHdT.js";import{b as a}from"./vendor-CPR9a7GK.js";import{G as r,W as i}from"./main-Cb_urJEy.js";import{P as o,I as c}from"./ParkBufferMesh-DRhw0giB.js";import{C as s}from"./CameraController-B2isBBSI.js";function l({geoComplexity:l=100,meshType:m=new n(100,l),useParkModel:u=!1,meshPosition:d=[0,0,0],meshRotation:p=[0,-2.1,0],className:f="sketch-container",id:h="page-sketch",particleColor:y=[.1,.1,1],frequency:S=.175,amplitude:g=3.5,maxDistance:x=2.85,timeSpeed:D=.5,noiseScale:C=1,noiseDensity:v=1,particleSize:k=1,colorIntensity:I=1,mouseInfluenceStrength:j=1,clickInfluenceStrength:w=2,clickWaveSpeed:P=3,clickDecayRate:b=.8,noiseOctaves:q=3,noiseLacunarity:R=2,noiseGain:M=.5,turbulenceStrength:G=1,flowDirection:z=0,waveSpeed:E=1,distortionStrength:L=1,cameraPosition:N=[0,0,.25],cameraLookAt:T=[0,0,0],cameraFov:W=75,cameraNear:A=.1,cameraFar:F=1e3,showDatGui:O=!1,isMobile:B=!1,cameraZ:Z=.25}){const H=a.useRef({frequency:S,amplitude:g,maxDistance:x,timeSpeed:D}),J=a.useRef(null),K=a.useRef(null),[,Q]=a.useState({}),U=a.useCallback(()=>{Q({})},[]);a.useEffect(()=>{if(O){if(!J.current){J.current=new r({autoPlace:!1});const e=document.createElement("div");e.style.position="fixed",e.style.top="10px",e.style.right="10px",e.style.zIndex="1000",e.appendChild(J.current.domElement),document.body.appendChild(e);const t=J.current;t.add(H.current,"frequency",.01,1,.01).name("Frequency").onChange(e=>{H.current.frequency=e,U()}),t.add(H.current,"amplitude",.1,10,.1).name("Amplitude").onChange(e=>{H.current.amplitude=e,U()}),t.add(H.current,"maxDistance",.1,10,.05).name("Max Distance").onChange(e=>{H.current.maxDistance=e,U()}),t.add(H.current,"timeSpeed",.1,5,.1).name("Time Speed").onChange(e=>{H.current.timeSpeed=e,U()})}return()=>{J.current&&(document.body.removeChild(J.current.domElement.parentNode),J.current.destroy(),J.current=null)}}},[O,U]);const V=a.useMemo(()=>O?H.current:{frequency:S,amplitude:g,maxDistance:x,timeSpeed:D},[O,S,g,x,D,Q]),X=.25!==Z?[N[0],N[1],Z]:N;return e.jsx(i,{children:e.jsxs(t,{className:f,id:h,gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1},dpr:[1,2],camera:{position:X,fov:W,near:A,far:F},children:[e.jsx(s,{position:X,lookAt:T,fov:W,near:A,far:F}),u?e.jsx(o,{ref:K,geoComplexity:l,meshType:m,meshPosition:d,meshRotation:p,particleColor:y,frequency:V.frequency,amplitude:V.amplitude,maxDistance:V.maxDistance,timeSpeed:V.timeSpeed,noiseScale:C,noiseDensity:v,particleSize:k,colorIntensity:I,mouseInfluenceStrength:j,clickInfluenceStrength:w,clickWaveSpeed:P,clickDecayRate:b,noiseOctaves:q,noiseLacunarity:R,noiseGain:M,turbulenceStrength:G,flowDirection:z,waveSpeed:E,distortionStrength:L}):e.jsx(c,{ref:K,geoComplexity:l,meshType:m,meshPosition:d,meshRotation:[0,0,0],particleColor:y,frequency:V.frequency,amplitude:V.amplitude,maxDistance:V.maxDistance,timeSpeed:V.timeSpeed,noiseScale:C,noiseDensity:v,particleSize:k,colorIntensity:I,mouseInfluenceStrength:j,clickInfluenceStrength:w,clickWaveSpeed:P,clickDecayRate:b,noiseOctaves:q,noiseLacunarity:R,noiseGain:M,turbulenceStrength:G,flowDirection:z,waveSpeed:E,distortionStrength:L})]})})}export{l as P};
